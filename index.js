"use strict";var path=require("path"),fse=require("fs-extra"),printPalette=require("./lib/printPalette"),APIrequest=require("./lib/APIrequests"),readFileAndReplace=require("./lib/readAndReplaceColors"),startModule=function(){function e(){t(a,s)}function r(){t(s,a)}function t(e,r){var t={overwrite:!0,errorOnExist:!1};fse.copy(e,r,t,function(e){if(e)return console.error(e)})}function n(){var e=[];APIrequest("http://www.colourlovers.com/api/palettes/random?format=json").then(function(r){var t=r.data[0].url;e=r.data[0].colors,e=e.map(function(e){return"#"!==e[0]?"#"+e:e}),printPalette(e,t),readFileAndReplace(a,e)}).catch(function(e){return console.error(e)})}function o(){var e=[],r="",t=/(#\w{6})(;?)(( *\/\/)( *)(disable smart-colors))?/g;fse.createReadStream(a).on("data",function(e){r+=e}).on("end",function(){e=r.match(t).filter(function(e){return!/(disable smart-colors)/g.test(e)}),e=e.map(function(e){return e.substr(0,7)});for(var n=e.length;n;--n){var o=Math.floor(Math.random()*n),s=[e[o],e[n-1]];e[n-1]=s[0],e[o]=s[1]}readFileAndReplace(a,e)})}var a=path.join(__dirname,"./demo/style.scss"),s=path.join(__dirname,"./demo/style_BKP.scss");return{newColors:n,shufflePalette:o,backup:e,restore:r}}();module.exports=startModule;