"use strict";var path=require("path"),fse=require("fs-extra"),printPalette=require("./lib/printPalette"),APIrequest=require("./lib/APIrequests"),readFileAndReplace=require("./lib/readAndReplaceColors"),startModule=function(){function e(){t(a,i)}function r(){t(i,a)}function t(e,r){var t={overwrite:!0,errorOnExist:!1};fse.copy(e,r,t,function(e){if(e)return console.error(e)})}function o(){var e=[];APIrequest("http://www.colourlovers.com/api/palettes/random?format=json").then(function(r){var t=r.data[0].url;e=r.data[0].colors,e=e.map(function(e){return"#"!==e[0]?"#"+e:e}),printPalette(e,t),readFileAndReplace(a,e)}).catch(function(e){return console.error(e)})}function n(){var e=[],r="",t=/(#\w{6})/g;fse.createReadStream(a).on("data",function(e){r+=e}).on("end",function(){e=r.match(t),console.log(e);for(var o=e.length;o;--o){var n=Math.floor(Math.random()*o),i=[e[n],e[o-1]];e[o-1]=i[0],e[n]=i[1]}readFileAndReplace(a,e)})}var a=path.join(__dirname,"./demo/colors.scss"),i=path.join(__dirname,"./demo/colors_BKP.scss");return{newColors:o,shufflePalette:n,backup:e,restore:r}}();module.exports=startModule;